BEGIN TRANSACTION;
CREATE TABLE "Return" (
	`ReturnID`	INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
	`DaysLate`	INTEGER NOT NULL,
	`LateFee`	NUMERIC NOT NULL,
	`MemberID`	INTEGER NOT NULL,
	`LibrarianID`	INTEGER NOT NULL,
	FOREIGN KEY(`MemberID`) REFERENCES `Member`(`MemberID`),
	FOREIGN KEY(`LibrarianID`) REFERENCES 'Employee'('EmployeeID')
);
CREATE TABLE "Member" (
	`MemberID`	INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
	`FirstName`	TEXT NOT NULL,
	`LastName`	TEXT NOT NULL,
	`DOB`	TEXT NOT NULL,
	`City`	TEXT NOT NULL,
	`Street`	TEXT NOT NULL,
	`State`	TEXT NOT NULL,
	`ZipCode`	TEXT NOT NULL
);
CREATE TABLE "Location" (
	`LocationID`	INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
	`Genre`	TEXT,
	`Section`	INTEGER NOT NULL,
	`RowNumber`	INTEGER NOT NULL,
	`Shelf`	INTEGER NOT NULL
);
CREATE TABLE "Loan" (
	`LoanID`	INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
	`LoanDate`	TEXT,
	`LoanFee`	TEXT,
	`MemberID`	INTEGER NOT NULL,
	`LibrarianID`	INTEGER NOT NULL,
	FOREIGN KEY(`MemberID`) REFERENCES `Member`(`MemberID`),
	FOREIGN KEY(`LibrarianID`) REFERENCES Employee(EmployeeID)
);
CREATE TABLE "Employee" (
	`EmployeeID`	INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
	`FirstName`	TEXT NOT NULL,
	`LastName`	TEXT NOT NULL,
	`DOB`	TEXT NOT NULL,
	`Street`	TEXT NOT NULL,
	`State`	TEXT NOT NULL,
	`City`	TEXT NOT NULL,
	`ZipCode`	INTEGER NOT NULL,
	`ReportsTo`	INTEGER NOT NULL,
	`PayRateperhour`	INTEGER NOT NULL,
	FOREIGN KEY(`ReportsTo`) REFERENCES Employee(EmployeeID)
);
CREATE TABLE "DvdLine" (
	`DVDLine`	INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
	`DVDID`	INTEGER NOT NULL,
	`LoanID`	INTEGER NOT NULL,
	`ReturnID`	INTEGER,
	FOREIGN KEY(`DVDID`) REFERENCES `DVD`(`DVDID`),
	FOREIGN KEY(`LoanID`) REFERENCES `Loan`(`LoanID`),
	FOREIGN KEY(`ReturnID`) REFERENCES 'Return'('ReturnID')
);
CREATE TABLE "DVD" (
	`Title`	TEXT,
	`Producer`	TEXT,
	`DVDID`	INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
	`DVDCost`	INTEGER NOT NULL,
	`NumOfCopies`	INTEGER NOT NULL,
	`LocationID`	INTEGER NOT NULL,
	FOREIGN KEY(`LocationID`) REFERENCES Location(LocationID)
);
CREATE TABLE "BookLine" (
	`BookLineID`	INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
	`BookID`	INTEGER NOT NULL,
	`LoanID`	INTEGER NOT NULL,
	`ReturnID`	INTEGER,
	FOREIGN KEY(`BookID`) REFERENCES `Book`(`BookID`),
	FOREIGN KEY(`LoanID`) REFERENCES `Loan`(`LoanID`),
	FOREIGN KEY(`ReturnID`) REFERENCES `Return`(`ReturnID`)
);
CREATE TABLE "Book" (
	`BookID`	INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
	`Title`	TEXT NOT NULL,
	`AuthorID`	INTEGER NOT NULL,
	`NumOfCopies`	INTEGER NOT NULL,
	`BookCost`	INTEGER NOT NULL,
	`LocationID`	INTEGER NOT NULL,
	FOREIGN KEY(`AuthorID`) REFERENCES 'Author'('AuthorID')
);
CREATE TABLE "Author" (
	`AuthorID`	INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,
	`FirstName`	TEXT,
	`LastName`	TEXT
);
COMMIT;
